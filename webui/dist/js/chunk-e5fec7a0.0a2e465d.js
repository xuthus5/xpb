(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5fec7a0"],{"6b1f":function(t,e,s){"use strict";s("dfec")},dfec:function(t,e,s){},e915:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"show"},[s("div",{staticClass:"jumbotron bg-transparent mb-0 radius-0 custom-header"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-0 col-md-2 col-lg-3 col-xl-3"}),s("div",{staticClass:"col-sm-12 col-md-8 col-lg-6 col-xl-6"},[t._m(0),s("div",{staticClass:"lead mb-3 text-mono text-success"},[t._v("Intended for use as a short-term exchange of pasted information between parties. ")]),s("div",{staticClass:"text-mono"},[s("router-link",{staticClass:"btn btn-success btn-shadow px-3 my-2 ml-0 text-left",attrs:{to:{name:"Home"}}},[t._v(" Home ")])],1),s("div",{staticClass:"text-darkgrey text-mono my-2"},[t._v("It is intended to be used directly by humans.")])]),s("div",{staticClass:"col-sm-0 col-md-2 col-lg-3 col-xl-3"})])])]),s("b-container",{staticClass:"mt-2 content",attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{xl:"2",lg:"2",md:"2",sm:"0"}}),s("b-col",{attrs:{xl:"8",lg:"8",md:"8",sm:"12"}},[s("b-card",{attrs:{title:t.record.title,"sub-title":t.getSubInfo()}},[s("b-card-text",[s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:t.record.content,expression:"record.content"}]},[t._v("                            "),s("code",{staticClass:"record.lang mt-0"}),t._v("\n                        ")]),s("div",[t.infoNeedShow?s("span",{staticClass:"text-left text-danger mt-0 pt-0"},[t._v(t._s(t.getExpiredInfo()))]):t._e(),t.infoNeedShow?s("span",{staticClass:"text-right float-right text-danger mt-0 pt-0"},t._l(t.record.tags,(function(e,r){return s("b-badge",{staticClass:"mr-1",attrs:{variant:"success"}},[t._v(t._s(e))])})),1):t._e()])]),t.record.editable?s("a",{staticClass:"card-link btn btn-secondary mr-2",attrs:{href:t.getEditLink(),target:"_blank"}},[t._v("Public Edit")]):t._e(),t.infoNeedShow?s("a",{staticClass:"card-link btn btn-primary",attrs:{href:t.getRawLink(),target:"_blank"}},[t._v("Raw Content")]):t._e(),s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{sm:"1",md:"2",lg:"4",xl:"4"}}),s("b-col",{attrs:{sm:"10",md:"8",lg:"4",xl:"4"}},[t.needPassword?s("b-form",{staticClass:"text-center",attrs:{inline:""}},[s("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},model:{value:t.record.password,callback:function(e){t.$set(t.record,"password",e)},expression:"record.password"}}),s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"button"},on:{click:t.showRecord}},[t._v("Go ")])],1):t._e()],1),s("b-col",{attrs:{sm:"1",md:"2",lg:"4",xl:"4"}})],1)],1)],1)],1),s("b-col",{attrs:{xl:"2",lg:"2",md:"2",sm:"0"}},[s("flash-message",{staticClass:"flash-pool mt-2",attrs:{transitionName:"flash"}})],1)],1)],1),t._m(1)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"display-2"},[t._v("Paste Bin"),s("span",{staticClass:"vim-caret"},[t._v("x")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-5"},[s("p",[t._v("Powered by "),s("a",{staticClass:"text-danger",attrs:{href:"https://xuthus.cc",target:"_blank"}},[t._v("xuthus")]),t._v(", it's open source :) - "),s("a",{staticClass:"text-danger",attrs:{href:"https://github.com/xuthus5/pbx",target:"_blank"}},[t._v("pbx")])])])}],o={name:"Show",data(){return{record:{},sk:"",infoNeedShow:!1,needPassword:!1}},methods:{getSubInfo(){if(null!==this.record&&this.record!=={}&&void 0!==this.record.created_at)return void 0===this.record.author&&(this.record.author="Unknown"),this.infoNeedShow=!0,"Paste from "+this.record.author+" at "+this.set_time(this.record.created_at)},getExpiredInfo(){return"This paste expires on "+this.set_time(this.record.expired_at)+" ."},getRawLink(){return"/raw/"+this.sk},getEditLink(){return"/edit/"+this.sk},set_time(t){let e=1e3*parseInt(t),s=new Date(e),r=s.getFullYear(),a=s.getMonth()+1;a=a<10?"0"+a:a;let o=s.getDate();o=o<10?"0"+o:o;let i=s.getHours();i=i<10?"0"+i:i;let n=s.getMinutes();return n=n<10?"0"+n:n,r+"-"+a+"-"+o+" "+i+":"+n},showRecord(){let t={"content-type":"application/json"};this.$ajax.get("/v1/get?sk="+this.sk+"&password="+this.record.password,{headers:t}).then(t=>{let e=t.data;return 200===e.code?(this.needPassword=!1,void(this.record=e.data)):4002===e.code?(this.record={content:e.message},this.needPassword=!0,void this.flashWarning("need password.")):(this.flashError(e.message),void console.log("get response: ",e))}).catch(t=>{this.flashError("get err: ",t),console.log("get err: ",t.response)})}},created(){let t=this.$route.params.sk;if(""===t)return void(this.record={content:"Record Not Found"});this.sk=t;let e={"content-type":"application/json"};this.$ajax.get("/v1/get?sk="+t,{headers:e}).then(t=>{let e=t.data;if(200===e.code)return void(this.record=e.data);let s="WARN:\n"+e.message;if(4002===e.code)return s+="\nadd a GET parameter '?password={record password}' to apply for authorization\nfor example: https://eg.com/edit/3M4YJK?password=admin",this.flashError("Need password! Set a GET parameter password to apply for authorization."),this.needPassword=!0,void(this.record={content:s});this.record={content:e.message},this.flashError(e.message),console.log("get err: ",t)}).catch(t=>{this.flashError("get err: ",t),console.log("get err: ",t.response)})}},i=o,n=(s("6b1f"),s("2877")),c=Object(n["a"])(i,r,a,!1,null,"6c8853c0",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-e5fec7a0.0a2e465d.js.map